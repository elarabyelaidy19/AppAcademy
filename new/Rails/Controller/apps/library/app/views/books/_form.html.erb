<%
=begin%>
 
<% form_method = @book.persisted? ? "PATCH" : "POST" %>
<% submit_text = @book.persisted? ? "EDIT" : "CREATE" %> 
<%
=end%>

<% action_url =  action == :edit ? book_url(@book) : books_url %>
<h1> Add A Book To Your Library </h1>

<form action="<%= action_url %>" method="POST">  
    <% if action = :edit %>
        <input type="hidden" name="_method" value="PATCH"> 
    <% end %>

    <label for="title">Title</label> 
    <input type="text" name="book[title]" id="title" value="<%= book.title %>">
    <br>
    
    <label for="author">Author</label>
    <input type="text" name="book[author]" id="author" value="<%= book.author %>">
    <br>
    
    <label for="year">Year</label>
    <input type="date" name="book[year]" id="year" value="<%= book.year %>">
    <br>

    <label for="category">category</label>
    <select name="book[category]" id="category"> 
        <option disabled selected >--please select category--</option> 
        <option value="fiction">Fiction</option>
        <option value="non-fiction">Non-Fiction</option>
        <option value="biography">Biography</option>
        <option value="poetry">Poetry</option>
        <option value="drama">Drama</option>
    </select>
    <br>    

    <label for="description">description</label>
    <textarea name="book[description]" id="description" cols="30" rows="10" name="book[description]">
        <%= book.description %>
    </textarea>
    <br>
    <input type="submit" value="<%= action == :edit ? "update book" : "add book" %>Book">

<form>